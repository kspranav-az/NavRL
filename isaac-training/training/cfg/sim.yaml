sim:
  dt: 0.016
  substeps: 1          # Reduced back to 1 for stability
  gravity: [0, 0, -9.81]
  replicate_physics: false  # Changed back to false for stability
  use_flatcache: true
  use_gpu_pipeline: true
  device: "cuda:0"

  solver_type: 1
  use_gpu: True # set to False to run on CPU
  bounce_threshold_velocity: 0.2
  friction_offset_threshold: 0.04
  friction_correlation_distance: 0.025
  enable_stabilization: True
  enable_scene_query_support: true

  # GPU buffers - Optimized for stability while maintaining good performance
  gpu_max_rigid_contact_count: 1048576      # Reduced from 2M to 1M for stability
  gpu_max_rigid_patch_count: 33554432       # Reduced from 64M to 32M for stability
  gpu_found_lost_pairs_capacity: 8388608    # Reduced from 16M to 8M for stability
  gpu_found_lost_aggregate_pairs_capacity: 67108864  # Reduced from 128M to 64M for stability
  gpu_total_aggregate_pairs_capacity: 8388608        # Reduced from 16M to 8M for stability
  gpu_max_soft_body_contacts: 2097152       # Reduced from 4M to 2M for stability
  gpu_max_particle_contacts: 2097152        # Reduced from 4M to 2M for stability
  gpu_heap_capacity: 134217728              # Reduced from 256M to 128M for stability
  gpu_temp_buffer_capacity: 33554432        # Reduced from 64M to 32M for stability
  gpu_max_num_partitions: 8                 # Reduced back to 8 for stability